import{a as H,u as Q,r as x,s as V,M as N,k as d,o as l,y,c as P,g as e,n as i,j as t,l as R,A as X,t as c,i as A,w as T,T as F,h as q,B as C,G as E,F as j,z,m as M}from"./main-BVOUBjs7.js";const Y={class:"flex flex-col sm:flex-row gap-2"},Z={key:0,class:"flex-1 relative group"},_=["placeholder"],ee={key:1,class:"flex gap-2"},te={class:"hidden sm:inline"},re={key:0,class:"absolute -top-1 -end-1 w-5 h-5 bg-primary-600 text-white text-xs font-bold rounded-full flex items-center justify-center"},ae={class:"p-6 overflow-y-auto max-h-[60vh]"},oe={class:"flex gap-3"},se={class:"overflow-x-auto"},le=["onClick"],ne={key:0,class:"text-primary-600"},ie={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},de={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},ce={key:0},ue=["colspan"],ye={key:1},ge=["colspan"],me={class:"font-medium"},pe={key:0,class:"px-4 py-2.5 whitespace-nowrap text-end text-sm"},be={class:"flex items-center justify-end gap-2"},fe={class:"flex flex-col sm:flex-row items-center justify-between gap-3"},ve={class:"font-medium"},xe={class:"font-medium"},he={class:"font-medium"},ke={class:"flex gap-1"},we=["disabled"],Me=["onClick"],Ce=["disabled"],je={__name:"DataTable",props:{columns:{type:Array,required:!0},data:{type:Array,default:()=>[]},meta:{type:Object,default:null},loading:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},paginated:{type:Boolean,default:!0},emptyText:{type:String,default:"No data available"},searchDebounce:{type:Number,default:300},tableHeight:{type:String,default:"500px"}},emits:["search","sort","page-change","filter"],setup(n,{emit:S}){const s=H(),{t:u}=Q(),p=n,v=S,h=x(p.data),B=x(""),m=x(null),b=x("asc"),f=x(!1),k=x({}),D=x(null),G=V(()=>{if(!p.meta)return[];const r=p.meta.current_page,a=p.meta.last_page,o=2,w=[],g=[];for(let $=Math.max(2,r-o);$<=Math.min(a-1,r+o);$++)w.push($);return r-o>2?g.push(1,"..."):g.push(1),g.push(...w),r+o<a-1?g.push("...",a):a>1&&g.push(a),g.filter($=>$!=="...")}),I=r=>{m.value===r?b.value=b.value==="asc"?"desc":"asc":(m.value=r,b.value="asc"),v("sort",{column:r,order:b.value})},L=r=>{r<1||r>p.meta.last_page||v("page-change",r)},U=V(()=>Object.values(k.value).some(r=>Array.isArray(r)?r.length>0:r!=null&&r!=="")),O=V(()=>Object.values(k.value).filter(r=>Array.isArray(r)?r.length>0:r!=null&&r!=="").length),W=(r,a)=>{k.value[r]=a},J=()=>{v("filter",k.value),f.value=!1},K=()=>{k.value={},v("filter",{}),f.value=!1};return N(()=>p.data,r=>{h.value=r}),N(B,r=>{D.value&&clearTimeout(D.value),D.value=setTimeout(()=>{v("search",r)},p.searchDebounce)}),(r,a)=>(l(),d("div",{class:i(["backdrop-blur-sm rounded-xl shadow-md border overflow-hidden transition-colors",t(s).darkMode?"bg-gray-800/90 border-gray-700":"bg-white/50 border-primary-100"])},[n.searchable||n.filterable?(l(),d("div",{key:0,class:i(["p-3 border-b transition-colors",t(s).darkMode?"bg-gradient-to-r from-gray-800 to-gray-900 border-gray-700":"bg-gradient-to-r from-primary-50 to-secondary-50 border-primary-100"])},[e("div",Y,[n.searchable?(l(),d("div",Z,[a[8]||(a[8]=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-400 group-focus-within:text-primary-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),R(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>B.value=o),type:"text",placeholder:t(u)("common.search"),class:i(["w-full ps-9 pe-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 transition-all backdrop-blur-sm",t(s).darkMode?"bg-gray-900/50 border-gray-600 text-gray-200 placeholder-gray-500 focus:border-primary-400 focus:ring-primary-900/50":"bg-white/50 border-primary-200 focus:border-primary-500 focus:ring-primary-100"])},null,10,_),[[X,B.value]])])):y("",!0),n.filterable?(l(),d("div",ee,[e("button",{onClick:a[1]||(a[1]=o=>f.value=!f.value),class:i(["px-3 py-2 text-sm border rounded-lg font-medium transition-all flex items-center gap-2 relative",[t(s).darkMode?"bg-gray-900/50 border-gray-600 text-gray-200 hover:bg-gray-700 hover:border-gray-500":"bg-white/50 border-primary-200 hover:bg-primary-50 hover:border-primary-300",U.value?"ring-2 ring-primary-500":""]])},[a[9]||(a[9]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),e("span",te,c(t(u)("common.filters")),1),O.value>0?(l(),d("span",re,c(O.value),1)):y("",!0)],2)])):y("",!0)])],2)):y("",!0),(l(),P(E,{to:"body"},[A(F,{"enter-active-class":"transition-all duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:T(()=>[f.value?(l(),d("div",{key:0,onClick:a[5]||(a[5]=o=>f.value=!1),class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},[A(F,{"enter-active-class":"transition-all duration-200","enter-from-class":"opacity-0 scale-95 translate-y-4","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition-all duration-150","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:T(()=>[f.value?(l(),d("div",{key:0,onClick:a[4]||(a[4]=q(()=>{},["stop"])),class:i(["rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",t(s).darkMode?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"])},[e("div",{class:i(["px-6 py-4 border-b flex items-center justify-between",t(s).darkMode?"border-gray-700":"border-gray-200"])},[e("h3",{class:i(["text-lg font-semibold",t(s).darkMode?"text-gray-100":"text-gray-900"])},c(t(u)("common.filters")),3),e("button",{onClick:a[2]||(a[2]=o=>f.value=!1),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[(l(),d("svg",{class:i(["w-5 h-5",t(s).darkMode?"text-gray-400":"text-gray-500"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...a[10]||(a[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])],2))])],2),e("div",ae,[C(r.$slots,"filters",{filters:k.value,updateFilter:W})]),e("div",{class:i(["px-6 py-4 border-t flex items-center justify-between gap-4",t(s).darkMode?"border-gray-700":"border-gray-200"])},[e("button",{onClick:K,class:i(["px-4 py-2 rounded-lg font-medium transition-colors",t(s).darkMode?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"])},c(t(u)("common.clearFilters")),3),e("div",oe,[e("button",{onClick:a[3]||(a[3]=o=>f.value=!1),class:i(["px-4 py-2 border-2 rounded-lg font-medium transition-colors",t(s).darkMode?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"])},c(t(u)("common.cancel")),3),e("button",{onClick:J,class:"px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors"},c(t(u)("common.apply")),1)])],2)],2)):y("",!0)]),_:3})])):y("",!0)]),_:3})])),e("div",se,[e("table",{class:i(["min-w-full divide-y transition-colors",t(s).darkMode?"divide-gray-700":"divide-primary-100"])},[e("thead",{class:i(["transition-colors",t(s).darkMode?"bg-gradient-to-r from-gray-800 to-gray-900":"bg-gradient-to-r from-primary-50 to-secondary-50"])},[e("tr",null,[(l(!0),d(j,null,z(n.columns,o=>(l(),d("th",{key:o.key,onClick:w=>o.sortable?I(o.key):null,class:i(["px-4 py-3 text-xs font-semibold uppercase tracking-wide transition-colors",[t(s).darkMode?"text-gray-300":"text-gray-900",o.sortable?t(s).darkMode?"cursor-pointer hover:bg-gray-700/50":"cursor-pointer hover:bg-primary-100/50":"",o.align==="center"?"text-center":o.align==="end"?"text-end":"text-start"]])},[e("div",{class:i(["flex items-center gap-2",o.align==="center"?"justify-center":o.align==="end"?"justify-end":""])},[M(c(o.label)+" ",1),o.sortable&&m.value===o.key?(l(),d("span",ne,[b.value==="asc"?(l(),d("svg",ie,[...a[11]||(a[11]=[e("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"},null,-1)])])):(l(),d("svg",de,[...a[12]||(a[12]=[e("path",{d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"},null,-1)])]))])):y("",!0)],2)],10,le))),128)),r.$slots.actions?(l(),d("th",{key:0,class:i(["px-4 py-2 text-end text-xs font-semibold uppercase tracking-wide",t(s).darkMode?"text-gray-300":"text-gray-900"])},c(t(u)("common.actions")),3)):y("",!0)])],2),e("tbody",{class:i(["backdrop-blur-sm divide-y transition-colors",t(s).darkMode?"bg-gray-900/50 divide-gray-700":"bg-white/50 divide-primary-50"])},[n.loading?(l(),d("tr",ce,[e("td",{colspan:n.columns.length+(r.$slots.actions?1:0),class:"px-4 py-3 text-center"},[...a[13]||(a[13]=[e("div",{class:"flex justify-center"},[e("svg",{class:"animate-spin h-8 w-8 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1)])],8,ue)])):h.value.length===0?(l(),d("tr",ye,[e("td",{colspan:n.columns.length+(r.$slots.actions?1:0),class:i(["px-4 py-6 text-center",t(s).darkMode?"text-gray-400":"text-gray-500"])},[(l(),d("svg",{class:i(["w-12 h-12 mx-auto mb-3",t(s).darkMode?"text-gray-600":"text-gray-300"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...a[14]||(a[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},null,-1)])],2)),e("p",me,c(n.emptyText),1)],10,ge)])):(l(!0),d(j,{key:2},z(h.value,(o,w)=>(l(),d("tr",{key:w,class:i(["transition-colors",t(s).darkMode?"hover:bg-gray-700/50":"hover:bg-primary-50/50"])},[(l(!0),d(j,null,z(n.columns,g=>(l(),d("td",{key:g.key,class:i(["px-4 py-4 text-sm",[t(s).darkMode?"text-gray-200":"text-gray-900",g.align==="center"?"text-center":g.align==="end"?"text-end":"text-start"]])},[C(r.$slots,`cell-${g.key}`,{row:o,value:o[g.key]},()=>[M(c(o[g.key]),1)])],2))),128)),r.$slots.actions?(l(),d("td",pe,[e("div",be,[C(r.$slots,"actions",{row:o})])])):y("",!0)],2))),128))],2)],2)]),n.paginated&&n.meta?(l(),d("div",{key:1,class:i(["px-4 py-3 border-t transition-colors",t(s).darkMode?"bg-gradient-to-r from-gray-800 to-gray-900 border-gray-700":"bg-gradient-to-r from-primary-50 to-secondary-50 border-primary-100"])},[e("div",fe,[e("div",{class:i(["text-xs font-medium",t(s).darkMode?"text-gray-300":"text-gray-700"])},[M(c(t(u)("common.showing"))+" ",1),e("span",ve,c(n.meta.from||0),1),M(" "+c(t(u)("common.to"))+" ",1),e("span",xe,c(n.meta.to||0),1),M(" "+c(t(u)("common.of"))+" ",1),e("span",he,c(n.meta.total||0),1),M(" "+c(t(u)("common.results")),1)],2),e("div",ke,[e("button",{onClick:a[6]||(a[6]=o=>L(n.meta.current_page-1)),disabled:n.meta.current_page<=1,class:i(["px-3 py-1.5 border rounded-lg text-xs font-medium hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",t(s).darkMode?"border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500":"border-primary-200 text-gray-700 hover:border-primary-300"])},c(t(u)("common.previous")),11,we),(l(!0),d(j,null,z(G.value,o=>(l(),d("button",{key:o,onClick:w=>L(o),class:i(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all min-w-[32px]",o===n.meta.current_page?"bg-gradient-to-r from-primary to-secondary text-white border-transparent shadow-md":t(s).darkMode?"border border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500":"border border-primary-200 text-gray-700 hover:bg-white hover:border-primary-300"])},c(o),11,Me))),128)),e("button",{onClick:a[7]||(a[7]=o=>L(n.meta.current_page+1)),disabled:n.meta.current_page>=n.meta.last_page,class:i(["px-3 py-1.5 border rounded-lg text-xs font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all",t(s).darkMode?"border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500":"border-primary-200 text-gray-700 hover:bg-white hover:border-primary-300"])},c(t(u)("common.next")),11,Ce)])])],2)):y("",!0)],2))}},Be={class:"px-6 py-4"},ze={__name:"Modal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"md",validator:n=>["sm","md","lg","xl","full"].includes(n)},closable:{type:Boolean,default:!0},closeOnBackdrop:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(n,{emit:S}){const s=H(),u=n,p=S,v=V(()=>({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"})[u.size]),h=()=>{p("update:modelValue",!1),p("close")},B=()=>{u.closeOnBackdrop&&u.closable&&h()};return N(()=>u.modelValue,m=>{m?document.body.style.overflow="hidden":document.body.style.overflow=""}),(m,b)=>(l(),P(E,{to:"body"},[A(F,{"enter-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:T(()=>[n.modelValue?(l(),d("div",{key:0,onClick:B,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 bg-opacity-50 p-4"},[A(F,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-300","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:T(()=>[n.modelValue?(l(),d("div",{key:0,onClick:b[0]||(b[0]=q(()=>{},["stop"])),class:i(["rounded-lg shadow-xl w-full transition-colors",[v.value,t(s).darkMode?"bg-gray-800 border border-gray-700":"bg-white"]])},[m.$slots.header||n.title?(l(),d("div",{key:0,class:i(["flex items-center justify-between px-6 py-4 border-b transition-colors",t(s).darkMode?"border-gray-700":"border-gray-200"])},[C(m.$slots,"header",{},()=>[e("h3",{class:i(["text-lg font-semibold transition-colors",t(s).darkMode?"text-gray-100":"text-gray-900"])},c(n.title),3)]),n.closable?(l(),d("button",{key:0,onClick:h,class:i(["transition-colors",t(s).darkMode?"text-gray-400 hover:text-gray-200":"text-gray-400 hover:text-gray-600"])},[...b[1]||(b[1]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],2)):y("",!0)],2)):y("",!0),e("div",Be,[C(m.$slots,"default")]),m.$slots.footer?(l(),d("div",{key:1,class:i(["flex items-center justify-end gap-3 px-6 py-4 border-t transition-colors",t(s).darkMode?"border-gray-700 bg-gray-900/50":"border-gray-200 bg-gray-50"])},[C(m.$slots,"footer")],2)):y("",!0)],2)):y("",!0)]),_:3})])):y("",!0)]),_:3})]))}};export{je as _,ze as a};
