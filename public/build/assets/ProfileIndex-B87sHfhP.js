import{I as P,J as G,u as H,a as K,b as O,r as Q,s as y,x as R,k as m,g as s,n as l,j as r,t,i as n,h as C,w as v,m as u,o as f}from"./main-BlFFzjiD.js";import{u as B}from"./useForm-CrEMAn_Z.js";import{_ as h}from"./TextInput-Bnmnj4Km.js";import{_ as b}from"./Button-Cpf1tbOB.js";import{_ as W}from"./Spinner-CbRJduN-.js";/* empty css            */const M={get:()=>P.get("/profile"),update:i=>P.put("/profile",i),changePassword:i=>P.put("/profile/change-password",i)},X=G("profile",{state:()=>({user:null,loading:!1,saving:!1}),actions:{async fetchProfile(){this.loading=!0;try{const i=await M.get();return this.user=i.data,i}finally{this.loading=!1}},async updateProfile(i){this.saving=!0;try{const g=await M.update(i);return this.user=g.data,g}finally{this.saving=!1}},async changePassword(i){this.saving=!0;try{return await M.changePassword(i)}finally{this.saving=!1}}}}),Y={class:"mb-6"},ee={key:0,class:"flex justify-center items-center py-12"},re={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},se={class:"flex justify-end gap-4 pt-4"},ae={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},le={class:"flex items-center gap-2"},te={class:"flex items-center gap-2"},ie={class:"flex items-center gap-2"},ne={class:"flex justify-end gap-4 pt-4"},ge={__name:"ProfileIndex",setup(i){const{t:g}=H(),d=K(),L=O(),w=X(),$=Q(!1),{form:c,errors:V,loading:k,put:F,reset:U}=B({name:"",email:""}),{form:o,errors:x,loading:S,put:_,reset:j}=B({current_password:"",password:"",password_confirmation:""}),E=y(()=>o.password.length>=8),I=y(()=>/[A-Z]/.test(o.password)),N=y(()=>/[a-z]/.test(o.password)),D=y(()=>/[0-9]/.test(o.password)),A=y(()=>/[!@#$%^&*(),.?":{}|<>]/.test(o.password)),z=async()=>{$.value=!0;try{await w.fetchProfile(),c.name=w.user.name,c.email=w.user.email}catch(e){L.error(e.message||g("profile.updateError"))}finally{$.value=!1}},T=async()=>{try{await F("/profile",{successMessage:g("profile.updateSuccess"),onSuccess:()=>{z()}})}catch{}},J=async()=>{try{await _("/profile/change-password",{successMessage:g("profile.password.changed"),onSuccess:()=>{q()}})}catch{}},Z=()=>{c.name=w.user.name,c.email=w.user.email,U()},q=()=>{o.current_password="",o.password="",o.password_confirmation="",j()};return R(()=>{z()}),(e,a)=>(f(),m("div",null,[s("div",Y,[s("h1",{class:l(["text-3xl font-bold transition-colors",r(d).darkMode?"text-gray-100":"text-gray-900"])},t(e.$t("profile.title")),3),s("p",{class:l(["mt-2 text-sm transition-colors",r(d).darkMode?"text-gray-400":"text-gray-600"])},t(e.$t("profile.subtitle")),3)]),$.value?(f(),m("div",ee,[n(W,{size:"lg",text:e.$t("common.loading")},null,8,["text"])])):(f(),m("div",re,[s("div",{class:l(["rounded-lg shadow p-6 transition-colors",r(d).darkMode?"bg-gray-800 border border-gray-700":"bg-white"])},[s("h2",{class:l(["text-xl font-semibold mb-6 transition-colors",r(d).darkMode?"text-gray-100":"text-gray-900"])},t(e.$t("profile.personalInfo")),3),s("form",{onSubmit:C(T,["prevent"]),class:"space-y-4"},[n(h,{modelValue:r(c).name,"onUpdate:modelValue":a[0]||(a[0]=p=>r(c).name=p),label:e.$t("profile.fields.name"),placeholder:e.$t("profile.placeholders.name"),error:r(V).name,required:""},null,8,["modelValue","label","placeholder","error"]),n(h,{modelValue:r(c).email,"onUpdate:modelValue":a[1]||(a[1]=p=>r(c).email=p),type:"email",label:e.$t("profile.fields.email"),placeholder:e.$t("profile.placeholders.email"),error:r(V).email,required:""},null,8,["modelValue","label","placeholder","error"]),s("div",se,[n(b,{type:"button",variant:"secondary",onClick:Z,disabled:r(k)},{default:v(()=>[u(t(e.$t("common.cancel")),1)]),_:1},8,["disabled"]),n(b,{type:"submit",variant:"primary",loading:r(k)},{default:v(()=>[u(t(e.$t("common.update")),1)]),_:1},8,["loading"])])],32)],2),s("div",{class:l(["rounded-lg shadow p-6 transition-colors",r(d).darkMode?"bg-gray-800 border border-gray-700":"bg-white"])},[s("h2",{class:l(["text-xl font-semibold mb-6 transition-colors",r(d).darkMode?"text-gray-100":"text-gray-900"])},t(e.$t("profile.changePassword")),3),s("form",{onSubmit:C(J,["prevent"]),class:"space-y-4"},[n(h,{modelValue:r(o).current_password,"onUpdate:modelValue":a[2]||(a[2]=p=>r(o).current_password=p),type:"password",label:e.$t("profile.fields.currentPassword"),placeholder:e.$t("profile.placeholders.currentPassword"),error:r(x).current_password,required:""},null,8,["modelValue","label","placeholder","error"]),n(h,{modelValue:r(o).password,"onUpdate:modelValue":a[3]||(a[3]=p=>r(o).password=p),type:"password",label:e.$t("profile.fields.newPassword"),placeholder:e.$t("profile.placeholders.newPassword"),error:r(x).password,required:""},null,8,["modelValue","label","placeholder","error"]),n(h,{modelValue:r(o).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=p=>r(o).password_confirmation=p),type:"password",label:e.$t("profile.fields.confirmPassword"),placeholder:e.$t("profile.placeholders.confirmPassword"),error:r(x).password_confirmation,required:""},null,8,["modelValue","label","placeholder","error"]),s("div",{class:l(["rounded-lg p-4 transition-colors",r(d).darkMode?"bg-gray-900/50 border border-gray-700":"bg-gray-50 border border-gray-200"])},[s("p",{class:l(["text-sm font-medium mb-2 transition-colors",r(d).darkMode?"text-gray-300":"text-gray-700"])},t(e.$t("profile.password.requirements.title")),3),s("ul",{class:l(["space-y-1 text-sm transition-colors",r(d).darkMode?"text-gray-400":"text-gray-600"])},[s("li",ae,[(f(),m("svg",{class:l(["w-4 h-4",E.value?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...a[5]||(a[5]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),u(" "+t(e.$t("profile.password.requirements.minLength")),1)]),s("li",oe,[(f(),m("svg",{class:l(["w-4 h-4",I.value?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...a[6]||(a[6]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),u(" "+t(e.$t("profile.password.requirements.uppercase")),1)]),s("li",le,[(f(),m("svg",{class:l(["w-4 h-4",N.value?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...a[7]||(a[7]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),u(" "+t(e.$t("profile.password.requirements.lowercase")),1)]),s("li",te,[(f(),m("svg",{class:l(["w-4 h-4",D.value?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...a[8]||(a[8]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),u(" "+t(e.$t("profile.password.requirements.number")),1)]),s("li",ie,[(f(),m("svg",{class:l(["w-4 h-4",A.value?"text-green-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...a[9]||(a[9]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])],2)),u(" "+t(e.$t("profile.password.requirements.special")),1)])],2)],2),s("div",ne,[n(b,{type:"button",variant:"secondary",onClick:q,disabled:r(S)},{default:v(()=>[u(t(e.$t("common.cancel")),1)]),_:1},8,["disabled"]),n(b,{type:"submit",variant:"primary",loading:r(S)},{default:v(()=>[u(t(e.$t("profile.changePassword")),1)]),_:1},8,["loading"])])],32)],2)]))]))}};export{ge as default};
