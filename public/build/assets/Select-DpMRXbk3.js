import{a as N,s as k,r as m,M as R,k as n,o as s,y as g,g as d,n as a,j as o,m as V,t as y,c as $,i as A,w as D,O,l as P,h as q,A as F,F as H,z as U,T as G,G as Q,P as I}from"./main-BVOUBjs7.js";const J={class:"mb-5"},W=["for"],X={key:0,class:"text-red-500"},Y={class:"relative group"},Z={class:"relative"},_=["disabled"],ee={key:0,class:"block truncate"},te={class:"relative"},re=["onClick"],ae={key:0,class:"px-4 py-8 text-center"},le={__name:"Select",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},options:{type:Array,default:()=>[]},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},placeholder:{type:String,default:"Select an option..."},searchable:{type:Boolean,default:!1},error:{type:String,default:""},hint:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:z}){const r=N(),u=t,L=z,j=k(()=>`select-${Math.random().toString(36).substr(2,9)}`),c=m(!1),v=m(""),p=m(null),h=m(null),w=m({}),b=k(()=>u.options.map(e=>typeof e=="object"?e:{[u.valueKey]:e,[u.labelKey]:e})),M=k(()=>{const e=b.value.find(l=>l[u.valueKey]===u.modelValue);return e?e[u.labelKey]:""}),f=k(()=>v.value?b.value.filter(e=>e[u.labelKey].toLowerCase().includes(v.value.toLowerCase())):b.value),S=()=>{if(!p.value)return;const e=p.value.getBoundingClientRect(),l=window.innerHeight,i=l-e.bottom,B=e.top,K=i<300&&B>i;w.value={left:`${e.left}px`,width:`${e.width}px`,top:K?"auto":`${e.bottom+8}px`,bottom:K?`${l-e.top+8}px`:"auto"}},E=()=>{u.disabled||(c.value=!c.value,c.value&&I(()=>{S()}))},T=e=>{L("update:modelValue",e[u.valueKey]),c.value=!1,v.value=""},C=e=>{!p.value?.contains(e.target)&&!h.value?.contains(e.target)&&(c.value=!1)},x=()=>{c.value&&S()};return R(c,e=>{e?(document.addEventListener("click",C),window.addEventListener("scroll",x,!0),window.addEventListener("resize",x)):(document.removeEventListener("click",C),window.removeEventListener("scroll",x,!0),window.removeEventListener("resize",x))}),(e,l)=>(s(),n("div",J,[t.label?(s(),n("label",{key:0,for:j.value,class:a(["block text-sm font-semibold mb-2",o(r).darkMode?"text-gray-300":"text-gray-700"])},[V(y(t.label)+" ",1),t.required?(s(),n("span",X,"*")):g("",!0)],10,W)):g("",!0),d("div",Y,[d("div",Z,[d("button",{ref_key:"buttonRef",ref:p,type:"button",onClick:E,disabled:t.disabled,class:a(["w-full px-4 py-3 pe-10 border-2 rounded-xl shadow-sm transition-all duration-200 cursor-pointer backdrop-blur-sm text-start disabled:cursor-not-allowed disabled:opacity-60",t.error?"border-red-300 bg-red-50/50 dark:bg-red-900/20 dark:border-red-500 dark:text-gray-200":o(r).darkMode?"border-gray-600 bg-gray-800 text-gray-200 hover:border-gray-500 disabled:hover:border-gray-600":"border-primary-200 bg-white/50 hover:border-primary-300 focus:border-primary disabled:hover:border-primary-200"])},[M.value?(s(),n("span",ee,y(M.value),1)):(s(),n("span",{key:1,class:a(o(r).darkMode?"text-gray-500":"text-gray-400")},y(t.placeholder),3))],10,_),d("div",{class:a(["absolute end-3 top-1/2 -translate-y-1/2 pointer-events-none transition-transform duration-200",c.value?"rotate-180":"rotate-0"])},[(s(),n("svg",{class:a(["w-5 h-5 transition-colors",t.disabled?o(r).darkMode?"text-gray-600":"text-gray-400":o(r).darkMode?"text-gray-400 group-hover:text-primary-400":"text-gray-500 group-hover:text-primary-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[2]||(l[2]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),(s(),$(Q,{to:"body"},[A(G,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[c.value?(s(),n("div",{key:0,ref_key:"dropdownRef",ref:h,class:a(["fixed z-[60] rounded-xl shadow-2xl overflow-hidden backdrop-blur-sm ring-1",o(r).darkMode?"bg-gray-800 ring-gray-700":"bg-white ring-primary-200/50"]),style:O(w.value)},[t.searchable?(s(),n("div",{key:0,class:a(["p-2 border-b",o(r).darkMode?"border-gray-700":"border-gray-100"])},[d("div",te,[(s(),n("svg",{class:a(["absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none",o(r).darkMode?"text-gray-500":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[3]||(l[3]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])],2)),P(d("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>v.value=i),type:"text",placeholder:"Search...",class:a(["w-full ps-9 pe-3 py-2 rounded-lg focus:outline-none transition-all text-sm",o(r).darkMode?"bg-gray-900 text-gray-200 placeholder-gray-500 focus:bg-gray-900/80 focus:ring-2 focus:ring-primary-500/50":"bg-gray-50 placeholder-gray-400 focus:bg-white focus:ring-2 focus:ring-primary-500/50"]),onClick:l[1]||(l[1]=q(()=>{},["stop"]))},null,2),[[F,v.value]])])],2)):g("",!0),d("div",{class:a(["max-h-60 overflow-y-auto py-1 scrollbar-thin scrollbar-thumb-rounded",o(r).darkMode?"scrollbar-thumb-gray-600 scrollbar-track-gray-800":"scrollbar-thumb-gray-300 scrollbar-track-gray-100"])},[(s(!0),n(H,null,U(f.value,i=>(s(),n("div",{key:i[t.valueKey],onClick:B=>T(i),class:a(["group relative px-4 py-2.5 cursor-pointer transition-all duration-150 flex items-center justify-between",i[t.valueKey]===t.modelValue?o(r).darkMode?"bg-primary-900/30 text-primary-300":"bg-primary-50 text-primary-700":o(r).darkMode?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-primary-50/50"])},[d("span",{class:a(["text-sm font-medium truncate",i[t.valueKey]===t.modelValue?"font-semibold":""])},y(i[t.labelKey]),3),i[t.valueKey]===t.modelValue?(s(),n("svg",{key:0,class:a(["w-5 h-5 flex-shrink-0 ms-2 animate-in fade-in zoom-in duration-200",o(r).darkMode?"text-primary-400":"text-primary-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[4]||(l[4]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 13l4 4L19 7"},null,-1)])],2)):(s(),n("div",{key:1,class:a(["w-5 h-5 flex-shrink-0 ms-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",o(r).darkMode?"bg-gray-600":"bg-primary-200/50"])},null,2))],10,re))),128)),f.value.length===0?(s(),n("div",ae,[(s(),n("svg",{class:a(["w-12 h-12 mx-auto mb-2",o(r).darkMode?"text-gray-600":"text-gray-300"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[5]||(l[5]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),d("p",{class:a(["text-sm font-medium",o(r).darkMode?"text-gray-400":"text-gray-500"])}," No options found ",2),d("p",{class:a(["text-xs mt-1",o(r).darkMode?"text-gray-500":"text-gray-400"])}," Try a different search term ",2)])):g("",!0)],2),t.searchable&&f.value.length>0?(s(),n("div",{key:1,class:a(["px-3 py-2 border-t text-xs",o(r).darkMode?"border-gray-700 text-gray-500 bg-gray-900/50":"border-gray-100 text-gray-500 bg-gray-50/50"])},y(f.value.length)+" of "+y(b.value.length)+" option"+y(b.value.length!==1?"s":""),3)):g("",!0)],6)):g("",!0)]),_:1})]))])]),t.error?(s(),n("p",{key:1,class:a(["mt-2 text-sm flex items-center gap-1",o(r).darkMode?"text-red-400":"text-red-600"])},[l[6]||(l[6]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),V(" "+y(t.error),1)],2)):t.hint?(s(),n("p",{key:2,class:a(["mt-2 text-sm",o(r).darkMode?"text-gray-400":"text-gray-500"])},y(t.hint),3)):g("",!0)]))}};export{le as _};
