import{u as A,a as L,b as R,e as F,r as C,s as g,c as H,w as c,d as N,o as n,g as r,h as T,i as f,k as i,y as E,n as u,j as s,F as _,z as $,t as h,m as j,p as U}from"./main-BlFFzjiD.js";import{u as D}from"./useForm-CrEMAn_Z.js";import{_ as I}from"./AuthLayout-CdThhCQq.js";import{_ as B}from"./TextInput-Bnmnj4Km.js";import{_ as Z}from"./Button-Cpf1tbOB.js";/* empty css            */import"./DarkModeToggle-Cw_QNO_U.js";const G={class:"flex justify-center"},J={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O={key:0,class:"space-y-2"},Q={class:"flex gap-1"},W={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={class:"space-y-1 text-xs"},ee={class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},re={key:1,cx:"12",cy:"12",r:"10","stroke-width":"2"},ce={__name:"ResetPassword",setup(se){const V=N(),z=F(),{t:d}=A(),a=L(),x=R(),q=z.query.email||"",{form:l,errors:y,loading:v,getError:b}=D({password:"",password_confirmation:""}),p=C(!1),m=C(!1),k=g(()=>{const e=l.password;return[{text:d("auth.reset.requirements.minLength"),met:e.length>=8},{text:d("auth.reset.requirements.uppercase"),met:/[A-Z]/.test(e)},{text:d("auth.reset.requirements.lowercase"),met:/[a-z]/.test(e)},{text:d("auth.reset.requirements.number"),met:/\d/.test(e)},{text:d("auth.reset.requirements.special"),met:/[!@#$%^&*(),.?":{}|<>]/.test(e)}]}),w=g(()=>{const e=k.value.filter(o=>o.met).length;return l.password?e<=2?{level:1,text:d("auth.reset.strength.weak"),color:"bg-danger-500",textColor:a.value.darkMode?"text-danger-400":"text-danger-600"}:e===3?{level:2,text:d("auth.reset.strength.fair"),color:"bg-warning-500",textColor:a.value.darkMode?"text-warning-400":"text-warning-600"}:e===4?{level:3,text:d("auth.reset.strength.good"),color:"bg-primary-500",textColor:a.value.darkMode?"text-primary-400":"text-primary-600"}:{level:4,text:d("auth.reset.strength.strong"),color:"bg-success-500",textColor:a.value.darkMode?"text-success-400":"text-success-600"}:{level:0,text:"",color:"",textColor:""}}),M=g(()=>l.password&&l.password_confirmation&&l.password===l.password_confirmation&&k.value.every(e=>e.met)),P=async()=>{if(M.value){v.value=!0,y.value={};try{const e=await U.resetPassword({email:q,password:l.password,password_confirmation:l.password_confirmation});x.success(e.message||d("auth.reset.success")),setTimeout(()=>{V.push("/login")},1500)}catch(e){e.errors&&(y.value=e.errors),e.status!==422&&x.error(e.message||d("auth.reset.error"))}finally{v.value=!1}}};return(e,t)=>(n(),H(I,{title:e.$t("auth.reset.title"),subtitle:e.$t("auth.reset.subtitle")},{default:c(()=>[r("form",{onSubmit:T(P,["prevent"]),class:"space-y-6"},[r("div",G,[r("div",{class:u(["w-16 h-16 rounded-2xl flex items-center justify-center transition-colors",s(a).darkMode?"bg-primary-900/30":"bg-primary-100"])},[(n(),i("svg",{class:u(["w-8 h-8",s(a).darkMode?"text-primary-400":"text-primary-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[4]||(t[4]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"},null,-1)])],2))],2)]),f(B,{modelValue:s(l).password,"onUpdate:modelValue":t[1]||(t[1]=o=>s(l).password=o),label:e.$t("auth.reset.newPassword"),placeholder:e.$t("auth.reset.passwordPlaceholder"),error:s(b)("password"),type:p.value?"text":"password",required:"",autocomplete:"new-password"},{icon:c(()=>[...t[5]||(t[5]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)])]),suffix:c(()=>[r("button",{type:"button",onClick:t[0]||(t[0]=o=>p.value=!p.value),class:u(["p-1 rounded-lg transition-colors",s(a).darkMode?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-500"])},[p.value?(n(),i("svg",J,[...t[6]||(t[6]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(n(),i("svg",K,[...t[7]||(t[7]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))],2)]),_:1},8,["modelValue","label","placeholder","error","type"]),s(l).password?(n(),i("div",O,[r("div",Q,[(n(),i(_,null,$(4,o=>r("div",{key:o,class:u(["h-1.5 flex-1 rounded-full transition-all duration-300",o<=w.value.level?w.value.color:s(a).darkMode?"bg-gray-700":"bg-gray-200"])},null,2)),64))]),r("p",{class:u(["text-xs font-medium transition-colors",w.value.textColor])},h(w.value.text),3)])):E("",!0),f(B,{modelValue:s(l).password_confirmation,"onUpdate:modelValue":t[3]||(t[3]=o=>s(l).password_confirmation=o),label:e.$t("auth.reset.confirmPassword"),placeholder:e.$t("auth.reset.confirmPasswordPlaceholder"),error:s(b)("password_confirmation"),type:m.value?"text":"password",required:"",autocomplete:"new-password"},{icon:c(()=>[...t[8]||(t[8]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])]),suffix:c(()=>[r("button",{type:"button",onClick:t[2]||(t[2]=o=>m.value=!m.value),class:u(["p-1 rounded-lg transition-colors",s(a).darkMode?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-500"])},[m.value?(n(),i("svg",W,[...t[9]||(t[9]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(n(),i("svg",X,[...t[10]||(t[10]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))],2)]),_:1},8,["modelValue","label","placeholder","error","type"]),r("div",{class:u(["rounded-xl p-4 transition-colors",s(a).darkMode?"bg-gray-900/50":"bg-gray-50"])},[r("h4",{class:u(["text-sm font-semibold mb-2 transition-colors",s(a).darkMode?"text-gray-300":"text-gray-700"])},h(e.$t("auth.reset.requirements.title")),3),r("ul",Y,[(n(!0),i(_,null,$(k.value,(o,S)=>(n(),i("li",{key:S,class:u(["flex items-center gap-2 transition-colors",o.met?s(a).darkMode?"text-success-400":"text-success-600":s(a).darkMode?"text-gray-500":"text-gray-400"])},[(n(),i("svg",ee,[o.met?(n(),i("path",te)):(n(),i("circle",re))])),j(" "+h(o.text),1)],2))),128))])],2),f(Z,{type:"submit",variant:"primary",loading:s(v),disabled:!M.value,class:"w-full"},{default:c(()=>[j(h(e.$t("auth.reset.resetButton")),1)]),_:1},8,["loading","disabled"])],32)]),_:1},8,["title","subtitle"]))}};export{ce as default};
